webpackJsonp([118,125],{33:function(e,n){"use strict";function i(e){var n=/^((13|14|15|17|18|19)[0-9]{1}\d{8})$/;return n.test(e)}function t(e){var n=/^[0-9]{9,11}$/;return n.test(e)}function a(e){var n=/^[0-9]{9,11}$/;return n.test(e)}function r(e){var n=/^[0-9]{13}$/;return n.test(e)}function o(e){var n=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/;return n.test(e)}function s(e){var n=/^(([a-zA-Z\u0800-\u4e00\u4e00-\u9fa5]){2,20})$/;return n.test(e)}function l(e){var n=/^(([a-zA-Z\u0800-\u4e00\u4e00-\u9fa5]){2,20})$/;return n.test(e)}function m(e){var n=/^(([a-zA-Z\u0800-\u4e00\u4e00-\u9fa5]){2,20})$/;return n.test(e)}function c(e){var n=/^(([a-zA-Z\u0800-\u4e00\u4e00-\u9fa5]){2,20})$/;return n.test(e)}function u(e){var n=/^(([a-zA-Z\u0800-\u4e00\u4e00-\u9fa5\\.\\+\\#]){2,20})$/;return n.test(e)}function d(e){var n=/^(([a-zA-Z\u0800-\u4e00\u4e00-\u9fa5]){2,10})$/;return n.test(e)}function A(e){var n=/^[a-zA-Z]{1}[-_a-zA-Z0-9]{5,19}$/;return n.test(e)}function p(e){var n=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;return n.test(e)}function f(e){var n=/^http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?$/;return n.test(e)}function _(e){var n=/^(((http|ftp|https):\/\/)?)([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?$/;return n.test(e)}function g(e){var n=/^[1-9]\d{0,8}$/;return n.test(e)}function h(e){var n=/^[0-9]{13,13}$/;return n.test(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.isValidPhone=i,n.isValidPhone2=t,n.isValidTablePhone=a,n.isLegalNumber=r,n.isValidPwd=o,n.isUserName=s,n.isAreaCode=l,n.isDepartmentName=m,n.isCompanyName=c,n.isPositionName=u,n.isShortCompanyName=d,n.isWechatid=A,n.isEmail=p,n.isURL=f,n.isSite=_,n.isValidMoney=g,n.isCorporateId=h},784:function(e,n,i){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(5),r=t(a),o=i(22),s=t(o),l=i(21),m=t(l),c=i(4),u=i(31),d=i(33),A=i(7),p=i(6),f=t(p);n.default={data:function(){var e=this,n=function(n,i,t){""===i?t(new Error(e.i18n.please_input_email)):(0,d.isEmail)(i)?(e.message=!0,t()):(e.message=!1,t(new Error(e.i18n.please_input_email_correctly)))};return{userId:"",oldEmail:"",sendmessage:"发送验证码",computedTime:0,actionType:"1",form:{newEmail:"",emailCode:""},rules:{newEmail:[{validator:n,trigger:"blur"},{min:7,max:128,message:"邮箱地址7到128位字符",trigger:"blur"}],emailCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]},lang:"",translate_dic:f.default}},methods:{getMessageCode:function(){var e=this;return(0,m.default)(s.default.mark(function n(){var i;return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(""===e.form.newEmail){n.next=16;break}return n.next=3,(0,c.checkEmail)({loginId:e.form.newEmail});case 3:if(e.userInfo=n.sent,"000000"!==e.userInfo.responseCode){n.next=12;break}e.sendmessage=e.i18n.reacquire,e.computedTime=60,e.timer=setInterval(function(){e.computedTime--,0===e.computedTime&&clearInterval(e.timer)},1e3),i=1,(0,c.setEmailCode)(e.form.newEmail,i).then(function(n){"https://api.zhipin168.jp"!==u.API_HOST&&alert(e.i18n.testing_verification_code+" "+e.i18n.the_verification_code_is+n.responseData.code)}),n.next=14;break;case 12:return alert(e.i18n.the_mailbox_is_already_registered),n.abrupt("return",!1);case 14:n.next=17;break;case 16:alert(e.i18n.please_input_email);case 17:case"end":return n.stop()}},n,e)}))()},loginNewPhonenumber:function(e){var n=this;this.$refs[e].validate(function(e){return!!e&&(n.form.emailCode!==n.code?(alert(n.i18n.incorrect_verification_code),!1):void n.insertForm())})},insertForm:function(){var e=this;return(0,m.default)(s.default.mark(function n(){return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.updateEmail)(e.userId,{loginId:e.form.newEmail});case 2:e.userInfo=n.sent,alert(e.i18n.modified_successfully,e.i18n.please_relogin_with_new_email_address),e.$router.push({path:"/businessLogin"});case 5:case"end":return n.stop()}},n,e)}))()}},created:function(){this.userId=window.localStorage.getItem("bossUserId"),this.sendmessage=this.i18n.send_verification_code,this.rules.newEmail[1].message=this.i18n.limit_email_format,this.rules.emailCode[0].message=this.i18n.please_input_verification_code},computed:(0,r.default)({},(0,A.mapState)(["language"]),{i18n:function(){return this.translate_dic[this.language+"_business_business_set_children_change_email"]}}),mounted:function(){var e=this;(0,c.hrInfo)(this.userId).then(function(n){e.oldEmail=n.responseData.bossInfo.email})}}},1288:function(e,n,i){n=e.exports=i(1)(),n.push([e.id,"#change_email{width:98%;max-width:500px;margin:0 auto}.changeEmail_header{font-size:18px;padding-top:15px;padding-bottom:15px;text-align:center;height:30px;color:#fff;background-color:#69f;border:1px solid #dcdcdc}.main_info{height:350px;background-color:#fff;border:1px solid #dcdcdc;padding-top:10px}.email_title{font-size:14px;padding-top:10px}#change_email form,.email_title{text-align:center}#change_email .el-form-item__error{margin-left:2em}#change_email .el-form-item{margin-bottom:3em}@media (min-width:641px){#change_email{padding-top:3.5em}#change_email form{margin-left:40px;padding-top:15px}#change_email .new_email{width:415px}#change_email .email_code{width:284px}#change_email .submit{width:415px}}@media (max-width:640px){#change_email{padding-top:1em}#change_email form{margin-left:4px;padding-top:5px}#change_email .new_email{width:90%}#change_email .email_code{width:50%}#change_email .submit{background-color:#69f;width:90%}}","",{version:3,sources:["/./src/page/business/businessSet/children/changeEmail.vue"],names:[],mappings:"AACA,cAEE,UAAW,AACX,gBAAiB,AAEjB,aAAe,CAChB,AACD,oBACE,eAAgB,AAChB,iBAAkB,AAClB,oBAAqB,AACrB,kBAAmB,AACnB,YAAa,AACb,WAAa,AACb,sBAA0B,AAC1B,wBAA0B,CAC3B,AACD,WACE,aAAc,AACd,sBAAuB,AACvB,yBAA0B,AAC1B,gBAAkB,CAEnB,AACD,aAEE,eAAgB,AAChB,gBAAkB,CACnB,AACD,gCAJE,iBAAmB,CAMpB,AACD,mCAEE,eAAiB,CAClB,AACD,4BAEE,iBAAmB,CACpB,AACD,yBACA,cAEI,iBAAmB,CACtB,AACD,mBAEI,iBAAkB,AAClB,gBAAiB,CACpB,AACD,yBAEI,WAAa,CAChB,AACD,0BAEI,WAAa,CAChB,AACD,sBAEI,WAAa,CAChB,CACA,AACD,yBACA,cAEI,eAAiB,CACpB,AACD,mBAEI,gBAAiB,AACjB,eAAgB,CACnB,AACD,yBAEI,SAAW,CACd,AACD,0BAEI,SAAW,CACd,AACD,sBAEI,sBAA0B,AAC1B,SAAW,CACd,CACA",file:"changeEmail.vue",sourcesContent:["\n#change_email{\n  /*height: 400px;*/\n  width: 98%;\n  max-width: 500px;\n  /*padding-left: 300px;*/\n  margin: 0 auto;\n}\n.changeEmail_header{\n  font-size: 18px;\n  padding-top: 15px;\n  padding-bottom: 15px;\n  text-align: center;\n  height: 30px;\n  color: white;\n  background-color: #6699ff;\n  border: 1px solid #DCDCDC;\n}\n.main_info{\n  height: 350px;\n  background-color:white;\n  border: 1px solid #DCDCDC;\n  padding-top: 10px;\n  /*text-align: center;*/\n}\n.email_title{\n  text-align: center;\n  font-size: 14px;\n  padding-top: 10px;\n}\n#change_email form {\n  text-align: center;\n}\n#change_email .el-form-item__error\n{\n  margin-left: 2em;\n}\n#change_email .el-form-item\n{\n  margin-bottom: 3em;\n}\n@media (min-width: 641px) {\n#change_email\n  {\n    padding-top: 3.5em;\n}\n#change_email form\n  {\n    margin-left: 40px;\n    padding-top: 15px\n}\n#change_email .new_email\n  {\n    width: 415px;\n}\n#change_email .email_code\n  {\n    width: 284px;\n}\n#change_email .submit\n  {\n    width: 415px;\n}\n}\n@media (max-width: 640px) {\n#change_email\n  {\n    padding-top: 1em;\n}\n#change_email form\n  {\n    margin-left: 4px;\n    padding-top: 5px\n}\n#change_email .new_email\n  {\n    width: 90%;\n}\n#change_email .email_code\n  {\n    width: 50%;\n}\n#change_email .submit\n  {\n    background-color: #6699ff;\n    width: 90%;\n}\n}\n"],sourceRoot:"webpack://"}])},1543:function(e,n,i){var t=i(1288);"string"==typeof t&&(t=[[e.id,t,""]]);i(2)(t,{});t.locals&&(e.exports=t.locals)},1774:function(e,n,i){i(1543);var t=i(3)(i(784),i(1949),null,null);e.exports=t.exports},1949:function(e,n){e.exports={render:function(){var e=this,n=e.$createElement,i=e._self._c||n;return i("div",{attrs:{id:"change_email"}},[i("div",{staticClass:"changeEmail_header"},[e._v("\n    "+e._s(e.i18n.modify_the_registered_email_address))]),e._v(" "),i("div",{staticClass:"main_info"},[i("p",{staticClass:"email_title"},[e._v(e._s(e.i18n.current_email))]),e._v(" "),i("p",{staticClass:"email_title"},[e._v(e._s(this.oldEmail))]),e._v(" "),i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[i("el-form-item",{attrs:{prop:"newEmail"}},[i("el-input",{staticClass:"new_email",attrs:{placeholder:e.i18n.please_input_new_email,"prefix-icon":"el-icon-mobile-phone"},model:{value:e.form.newEmail,callback:function(n){e.$set(e.form,"newEmail",n)},expression:"form.newEmail"}})],1),e._v(" "),i("el-form-item",{attrs:{prop:"emailCode"}},[i("el-input",{staticClass:"email_code",attrs:{placeholder:e.i18n.please_input_verification_code,"prefix-icon":"el-icon-message"},model:{value:e.form.emailCode,callback:function(n){e.$set(e.form,"emailCode",n)},expression:"form.emailCode"}}),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.computedTime,expression:"!computedTime"}],staticStyle:{"background-color":"#ffffff",color:"#46D0E8"},on:{click:function(n){return n.preventDefault(),e.getMessageCode(n)}}},[e._v(e._s(this.sendmessage))]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.computedTime,expression:"computedTime"}],staticStyle:{"background-color":"#ffffff",color:"#46D0E8"},on:{click:function(e){e.preventDefault()}}},[e._v(e._s(e.i18n.has_been_sent)),e._v("("+e._s(e.computedTime)+"s)")])],1),e._v(" "),i("el-form-item",[i("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:function(n){return e.loginNewPhonenumber("form")}}},[e._v(e._s(e.i18n.confirm_to_modify_mail))])],1)],1)],1)])},staticRenderFns:[]}}});